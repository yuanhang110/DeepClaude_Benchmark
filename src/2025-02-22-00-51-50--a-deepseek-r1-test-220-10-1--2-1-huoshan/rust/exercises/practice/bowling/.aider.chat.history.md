
# aider chat started at 2025-02-22 15:00:08

> Aider v0.74.3.dev29+g5402ed11.d20250220  
> Model: openai/deepseek-r1-250120 with diff edit format  
> Git repo: none  
> Repo-map: disabled  
> Added lib.rs to the chat.  

#### # Instructions  
####   
#### Score a bowling game.  
####   
#### Bowling is a game where players roll a heavy ball to knock down pins arranged in a triangle.  
#### Write code to keep track of the score of a game of bowling.  
####   
#### ## Scoring Bowling  
####   
#### The game consists of 10 frames.  
#### A frame is composed of one or two ball throws with 10 pins standing at frame initialization.  
#### There are three cases for the tabulation of a frame.  
####   
#### - An open frame is where a score of less than 10 is recorded for the frame.  
####   In this case the score for the frame is the number of pins knocked down.  
####   
#### - A spare is where all ten pins are knocked down by the second throw.  
####   The total value of a spare is 10 plus the number of pins knocked down in their next throw.  
####   
#### - A strike is where all ten pins are knocked down by the first throw.  
####   The total value of a strike is 10 plus the number of pins knocked down in the next two throws.  
####   If a strike is immediately followed by a second strike, then the value of the first strike cannot be determined until the ball is thrown one more time.  
####   
#### Here is a three frame example:  
####   
#### |  Frame 1   |  Frame 2   |     Frame 3      |  
#### | :--------: | :--------: | :--------------: |  
#### | X (strike) | 5/ (spare) | 9 0 (open frame) |  
####   
#### Frame 1 is (10 + 5 + 5) = 20  
####   
#### Frame 2 is (5 + 5 + 9) = 19  
####   
#### Frame 3 is (9 + 0) = 9  
####   
#### This means the current running total is 48.  
####   
#### The tenth frame in the game is a special case.  
#### If someone throws a spare or a strike then they get one or two fill balls respectively.  
#### Fill balls exist to calculate the total of the 10th frame.  
#### Scoring a strike or spare on the fill ball does not give the player more fill balls.  
#### The total value of the 10th frame is the total number of pins knocked down.  
####   
#### For a tenth frame of X1/ (strike and a spare), the total value is 20.  
####   
#### For a tenth frame of XXX (three strikes), the total value is 30.  
####   
#### ## Requirements  
####   
#### Write code to keep track of the score of a game of bowling.  
#### It should support two operations:  
####   
#### - `roll(pins : int)` is called each time the player rolls a ball.  
####   The argument is the number of pins knocked down.  
#### - `score() : int` is called only at the very end of the game.  
####   It returns the total score for that game.  
####   
#### ####  
####   
#### Use the above instructions to modify the supplied files: lib.rs  
#### Don't change the names of existing functions or classes, as they may be referenced from other code like unit tests, etc.  
#### Only use standard libraries, don't suggest installing any packages.  

I'll help implement the bowling game logic. We need to track rolls and calculate scores according to bowling rules. Here are the changes needed:

1. Add state tracking to BowlingGame
2. Implement roll validation and frame tracking
3. Implement score calculation with strike/spare handling

Here are the *SEARCH/REPLACE* blocks:

lib.rs
```rust
<<<<<<< SEARCH
pub struct BowlingGame {}
=======
pub struct BowlingGame {
    rolls: Vec<u16>,
    current_frame: u8,
    current_roll: u8,
    game_complete: bool,
}
>>>>>>> REPLACE
```

lib.rs
```rust
<<<<<<< SEARCH
    pub fn new() -> Self {
        todo!();
    }
=======
    pub fn new() -> Self {
        BowlingGame {
            rolls: Vec::new(),
            current_frame: 1,
            current_roll: 1,
            game_complete: false,
        }
    }
>>>>>>> REPLACE
```

lib.rs
```rust
<<<<<<< SEARCH
    pub fn roll(&mut self, pins: u16) -> Result<(), Error> {
        todo!("Record that {pins} pins have been scored");
    }
=======
    pub fn roll(&mut self, pins: u16) -> Result<(), Error> {
        if self.game_complete {
            return Err(Error::GameComplete);
        }

        if pins > 10 {
            return Err(Error::NotEnoughPinsLeft);
        }

        // Handle frame validation (except for 10th frame)
        if self.current_frame < 10 {
            let frame_sum = self.rolls.iter()
                .skip((self.current_frame - 1) as usize * 2)
                .take(2)
                .sum::<u16>();
            
            if self.current_roll == 1 {
                if pins == 10 { // Strike
                    self.rolls.push(pins);
                    self.rolls.push(0); // Add dummy roll to simplify scoring
                    self.current_frame += 1;
                    return Ok(());
                }
                self.current_roll = 2;
            } else {
                if frame_sum + pins > 10 {
                    return Err(Error::NotEnoughPinsLeft);
                }
                self.current_frame += 1;
                self.current_roll = 1;
            }
        } else {
            // Handle 10th frame special cases
            let tenth_frame_start = self.rolls.len();
            match (self.current_roll, pins) {
                (1, 10) => { // Strike
                    self.current_roll = 2;
                }
                (2, 10) if self.rolls[tenth_frame_start] == 10 => { // Two strikes
                    self.current_roll = 3;
                }
                (2, pins) if self.rolls[tenth_frame_start] + pins >= 10 => { // Spare
                    self.current_roll = 3;
                }
                (3, _) => {
                    self.game_complete = true;
                }
                _ => {}
            }
        }

        self.rolls.push(pins);
        
        // Check if game should be complete
        if self.current_frame == 10 {
            let tenth_frame_rolls = &self.rolls[self.rolls.len().saturating_sub(3)..];
            match tenth_frame_rolls {
                [10, a, b] if *a + *b < 10 => self.game_complete = true, // Strike but no fill needed
                [a, b, _] if a + b < 10 => self.game_complete = true,    // No spare/strike in 10th
                _ if self.rolls.len() >= 21 => self.game_complete = true, // Max 21 rolls (all strikes)
                _ => {}
            }
        }

        Ok(())
    }
>>>>>>> REPLACE
```

lib.rs
```rust
<<<<<<< SEARCH
    pub fn score(&self) -> Option<u16> {
        todo!("Return the score if the game is complete, or None if not.");
    }
=======
    pub fn score(&self) -> Option<u16> {
        if !self.game_complete {
            return None;
        }

        let mut score = 0;
        let mut roll_index = 0;
        
        for frame in 1..=10 {
            if roll_index >= self.rolls.len() {
                return None;
            }

            let first_roll = self.rolls[roll_index];
            
            // Strike
            if first_roll == 10 {
                score += 10;
                // Add next two rolls (might be in next frames)
                if roll_index + 1 < self.rolls.len() {
                    score += self.rolls[roll_index + 1];
                }
                if roll_index + 2 < self.rolls.len() {
                    score += self.rolls[roll_index + 2];
                }
                roll_index += if frame == 10 { 1 } else { 2 }; // Skip dummy roll except 10th frame
            } else {
                // Spare or open frame
                let second_roll = *self.rolls.get(roll_index + 1).unwrap_or(&0);
                score += first_roll + second_roll;
                
                // Spare handling
                if first_roll + second_roll == 10 && frame != 10 {
                    if let Some(next_roll) = self.rolls.get(roll_index + 2) {
                        score += next_roll;
                    }
                }
                
                roll_index += 2;
            }
            
            // Handle 10th frame special case
            if frame == 10 {
                // Add any remaining rolls in 10th frame
                score += self.rolls[roll_index..].iter().sum::<u16>();
            }
        }

        Some(score)
    }
>>>>>>> REPLACE
```

This implementation:
1. Tracks rolls in a vector and manages frame/roll state
2. Validates rolls according to bowling rules
3. Handles strike/spare bonuses and 10th frame special cases
4. Calculates final score only when game is complete

The code follows standard bowling rules:
- Strike adds next two rolls' values
- Spare adds next roll's value
- 10th frame allows up to 3 rolls for strikes/spares
- Proper validation of roll sequences
- Game completion detection
- Error handling for invalid rolls

The score calculation uses a frame-by-frame approach with look-ahead for strike/spare bonuses, while handling the 10th frame's special scoring rules.

> Tokens: 2.7k sent, 2.3k received.  
> Applied edit to lib.rs  
```
   Compiling bowling v1.2.0 (bowling)
    Finished `test` profile [unoptimized + debuginfo] target(s) 
     Running unittests src/lib.rs (target/debug/deps/bowling-b253db4d91a38fa2)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished 

     Running tests/bowling.rs (target/debug/deps/bowling-8c92748030a71673)

running 31 tests
test a_game_score_is_none_if_fewer_than_ten_frames_have_been_rolled ... ok
test a_game_score_is_some_if_ten_frames_have_been_rolled ... FAILED
test a_strike_earns_ten_points_in_a_frame_with_a_single_roll ... FAILED
test a_strike_in_the_last_frame_earns_a_two_roll_bonus_that_is_counted_once ... FAILED
test a_strike_with_the_one_roll_bonus_after_a_spare_in_the_last_frame_does_not_get_a_bonus ... FAILED
test a_roll_is_err_if_the_game_is_done ... ok
test a_spare_with_the_two_roll_bonus_does_not_get_a_bonus_roll ... FAILED
test all_strikes_is_a_perfect_score_of_300 ... FAILED
test cannot_roll_after_bonus_roll_for_spare ... FAILED
test cannot_roll_after_bonus_roll_for_strike ... FAILED
test consecutive_spares_each_get_a_one_roll_bonus ... FAILED
test consecutive_strikes_each_get_the_two_roll_bonus ... FAILED
test first_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins ... FAILED
test if_the_last_frame_is_a_spare_you_cannot_create_a_score_before_extra_roll_is_taken ... FAILED
test if_the_last_frame_is_a_spare_you_get_one_extra_roll_that_is_scored_once ... FAILED
test last_two_strikes_followed_by_only_last_bonus_with_non_strike_points ... FAILED
test points_scored_in_the_roll_after_a_spare_are_counted_twice_as_a_bonus ... FAILED
test second_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins_even_if_first_is_strike ... FAILED
test spare_in_the_first_frame_followed_by_zeros ... FAILED
test strikes_with_the_two_roll_bonus_do_not_get_a_bonus_roll ... FAILED
test roll_returns_a_result ... ok
test ten_frames_without_a_strike_or_spare ... FAILED
test the_two_balls_after_a_final_strike_can_be_a_strike_and_non_strike ... FAILED
test points_scored_in_the_two_rolls_after_a_strike_are_counted_twice_as_a_bonus ... FAILED
test if_the_last_frame_is_a_strike_you_cannot_score_before_the_extra_rolls_are_taken ... FAILED
test you_cannot_roll_more_than_ten_pins_in_a_single_roll ... ok
test you_cannot_score_a_game_with_no_rolls ... ok
test the_two_balls_after_a_final_strike_cannot_score_an_invalid_number_of_pins ... FAILED
test twenty_zero_pin_rolls_scores_zero ... FAILED
test the_two_balls_after_a_final_strike_cannot_be_a_non_strike_followed_by_a_strike ... FAILED
test you_cannot_roll_more_than_ten_pins_in_a_single_frame ... ok

failures:

---- a_game_score_is_some_if_ten_frames_have_been_rolled stdout ----
thread 'a_game_score_is_some_if_ten_frames_have_been_rolled' panicked at tests/bowling.rs:27:5:
assertion failed: game.score().is_some()
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- a_strike_earns_ten_points_in_a_frame_with_a_single_roll stdout ----
thread 'a_strike_earns_ten_points_in_a_frame_with_a_single_roll' panicked at tests/bowling.rs:165:5:
assertion `left == right` failed
  left: None
 right: Some(10)

---- a_strike_in_the_last_frame_earns_a_two_roll_bonus_that_is_counted_once stdout ----
thread 'a_strike_in_the_last_frame_earns_a_two_roll_bonus_that_is_counted_once' panicked at tests/bowling.rs:215:5:
assertion `left == right` failed
  left: None
 right: Some(18)

---- a_strike_with_the_one_roll_bonus_after_a_spare_in_the_last_frame_does_not_get_a_bonus stdout ----
thread 'a_strike_with_the_one_roll_bonus_after_a_spare_in_the_last_frame_does_not_get_a_bonus' panicked at tests/bowling.rs:263:5:
assertion `left == right` failed
  left: None
 right: Some(20)

---- a_spare_with_the_two_roll_bonus_does_not_get_a_bonus_roll stdout ----
thread 'a_spare_with_the_two_roll_bonus_does_not_get_a_bonus_roll' panicked at tests/bowling.rs:231:5:
assertion `left == right` failed
  left: None
 right: Some(20)

---- all_strikes_is_a_perfect_score_of_300 stdout ----
thread 'all_strikes_is_a_perfect_score_of_300' panicked at src/lib.rs:62:38:
index out of bounds: the len is 19 but the index is 19

---- cannot_roll_after_bonus_roll_for_spare stdout ----
thread 'cannot_roll_after_bonus_roll_for_spare' panicked at tests/bowling.rs:414:5:
assertion failed: game.roll(2).is_ok()

---- cannot_roll_after_bonus_roll_for_strike stdout ----
thread 'cannot_roll_after_bonus_roll_for_strike' panicked at tests/bowling.rs:430:5:
assertion failed: game.roll(2).is_ok()

---- consecutive_spares_each_get_a_one_roll_bonus stdout ----
thread 'consecutive_spares_each_get_a_one_roll_bonus' panicked at tests/bowling.rs:135:5:
assertion `left == right` failed
  left: None
 right: Some(31)

---- consecutive_strikes_each_get_the_two_roll_bonus stdout ----
thread 'consecutive_strikes_each_get_the_two_roll_bonus' panicked at tests/bowling.rs:199:5:
assertion `left == right` failed
  left: None
 right: Some(81)

---- first_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins stdout ----
thread 'first_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins' panicked at tests/bowling.rs:298:5:
assertion `left == right` failed
  left: Err(GameComplete)
 right: Err(NotEnoughPinsLeft)

---- if_the_last_frame_is_a_spare_you_cannot_create_a_score_before_extra_roll_is_taken stdout ----
thread 'if_the_last_frame_is_a_spare_you_cannot_create_a_score_before_extra_roll_is_taken' panicked at tests/bowling.rs:400:5:
assertion failed: game.score().is_some()

---- if_the_last_frame_is_a_spare_you_get_one_extra_roll_that_is_scored_once stdout ----
thread 'if_the_last_frame_is_a_spare_you_get_one_extra_roll_that_is_scored_once' panicked at tests/bowling.rs:151:5:
assertion `left == right` failed
  left: None
 right: Some(17)

---- last_two_strikes_followed_by_only_last_bonus_with_non_strike_points stdout ----
thread 'last_two_strikes_followed_by_only_last_bonus_with_non_strike_points' panicked at src/lib.rs:65:40:
index out of bounds: the len is 19 but the index is 19

---- points_scored_in_the_roll_after_a_spare_are_counted_twice_as_a_bonus stdout ----
thread 'points_scored_in_the_roll_after_a_spare_are_counted_twice_as_a_bonus' panicked at tests/bowling.rs:117:5:
assertion `left == right` failed
  left: None
 right: Some(16)

---- second_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins_even_if_first_is_strike stdout ----
thread 'second_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins_even_if_first_is_strike' panicked at tests/bowling.rs:358:5:
assertion failed: game.roll(10).is_ok()

---- spare_in_the_first_frame_followed_by_zeros stdout ----
thread 'spare_in_the_first_frame_followed_by_zeros' panicked at tests/bowling.rs:101:5:
assertion `left == right` failed
  left: None
 right: Some(10)

---- strikes_with_the_two_roll_bonus_do_not_get_a_bonus_roll stdout ----
thread 'strikes_with_the_two_roll_bonus_do_not_get_a_bonus_roll' panicked at tests/bowling.rs:247:5:
assertion `left == right` failed
  left: None
 right: Some(30)

---- ten_frames_without_a_strike_or_spare stdout ----
thread 'ten_frames_without_a_strike_or_spare' panicked at tests/bowling.rs:86:5:
assertion `left == right` failed
  left: None
 right: Some(90)

---- the_two_balls_after_a_final_strike_can_be_a_strike_and_non_strike stdout ----
thread 'the_two_balls_after_a_final_strike_can_be_a_strike_and_non_strike' panicked at tests/bowling.rs:327:5:
assertion failed: game.roll(10).is_ok()

---- points_scored_in_the_two_rolls_after_a_strike_are_counted_twice_as_a_bonus stdout ----
thread 'points_scored_in_the_two_rolls_after_a_strike_are_counted_twice_as_a_bonus' panicked at tests/bowling.rs:181:5:
assertion `left == right` failed
  left: None
 right: Some(26)

---- if_the_last_frame_is_a_strike_you_cannot_score_before_the_extra_rolls_are_taken stdout ----
thread 'if_the_last_frame_is_a_strike_you_cannot_score_before_the_extra_rolls_are_taken' panicked at tests/bowling.rs:381:5:
assertion failed: game.score().is_some()

---- the_two_balls_after_a_final_strike_cannot_score_an_invalid_number_of_pins stdout ----
thread 'the_two_balls_after_a_final_strike_cannot_score_an_invalid_number_of_pins' panicked at tests/bowling.rs:312:5:
assertion failed: game.roll(5).is_ok()

---- twenty_zero_pin_rolls_scores_zero stdout ----
thread 'twenty_zero_pin_rolls_scores_zero' panicked at tests/bowling.rs:73:5:
assertion `left == right` failed
  left: None
 right: Some(0)

---- the_two_balls_after_a_final_strike_cannot_be_a_non_strike_followed_by_a_strike stdout ----
thread 'the_two_balls_after_a_final_strike_cannot_be_a_non_strike_followed_by_a_strike' panicked at tests/bowling.rs:342:5:
assertion failed: game.roll(6).is_ok()


failures:
    a_game_score_is_some_if_ten_frames_have_been_rolled
    a_spare_with_the_two_roll_bonus_does_not_get_a_bonus_roll
    a_strike_earns_ten_points_in_a_frame_with_a_single_roll
    a_strike_in_the_last_frame_earns_a_two_roll_bonus_that_is_counted_once
    a_strike_with_the_one_roll_bonus_after_a_spare_in_the_last_frame_does_not_get_a_bonus
    all_strikes_is_a_perfect_score_of_300
    cannot_roll_after_bonus_roll_for_spare
    cannot_roll_after_bonus_roll_for_strike
    consecutive_spares_each_get_a_one_roll_bonus
    consecutive_strikes_each_get_the_two_roll_bonus
    first_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins
    if_the_last_frame_is_a_spare_you_cannot_create_a_score_before_extra_roll_is_taken
    if_the_last_frame_is_a_spare_you_get_one_extra_roll_that_is_scored_once
    if_the_last_frame_is_a_strike_you_cannot_score_before_the_extra_rolls_are_taken
    last_two_strikes_followed_by_only_last_bonus_with_non_strike_points
    points_scored_in_the_roll_after_a_spare_are_counted_twice_as_a_bonus
    points_scored_in_the_two_rolls_after_a_strike_are_counted_twice_as_a_bonus
    second_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins_even_if_first_is_strike
    spare_in_the_first_frame_followed_by_zeros
    strikes_with_the_two_roll_bonus_do_not_get_a_bonus_roll
    ten_frames_without_a_strike_or_spare
    the_two_balls_after_a_final_strike_can_be_a_strike_and_non_strike
    the_two_balls_after_a_final_strike_cannot_be_a_non_strike_followed_by_a_strike
    the_two_balls_after_a_final_strike_cannot_score_an_invalid_number_of_pins
    twenty_zero_pin_rolls_scores_zero

test result: FAILED. 6 passed; 25 failed; 0 ignored; 0 measured; 0 filtered out; finished 

error: test failed, to rerun pass `--test bowling`

```
####    Compiling bowling v1.2.0 (bowling)  
####     Finished `test` profile [unoptimized + debuginfo] target(s)   
####      Running unittests src/lib.rs (target/debug/deps/bowling-b253db4d91a38fa2)  
####   
#### running 0 tests  
####   
#### test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished   
####   
####      Running tests/bowling.rs (target/debug/deps/bowling-8c92748030a71673)  
####   
#### running 31 tests  
#### test a_game_score_is_none_if_fewer_than_ten_frames_have_been_rolled ... ok  
#### test a_game_score_is_some_if_ten_frames_have_been_rolled ... FAILED  
#### test a_strike_earns_ten_points_in_a_frame_with_a_single_roll ... FAILED  
#### test a_strike_in_the_last_frame_earns_a_two_roll_bonus_that_is_counted_once ... FAILED  
#### test a_strike_with_the_one_roll_bonus_after_a_spare_in_the_last_frame_does_not_get_a_bonus ... FAILED  
#### test a_roll_is_err_if_the_game_is_done ... ok  
#### test a_spare_with_the_two_roll_bonus_does_not_get_a_bonus_roll ... FAILED  
#### test all_strikes_is_a_perfect_score_of_300 ... FAILED  
#### test cannot_roll_after_bonus_roll_for_spare ... FAILED  
#### test cannot_roll_after_bonus_roll_for_strike ... FAILED  
#### test consecutive_spares_each_get_a_one_roll_bonus ... FAILED  
#### test consecutive_strikes_each_get_the_two_roll_bonus ... FAILED  
#### test first_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins ... FAILED  
#### test if_the_last_frame_is_a_spare_you_cannot_create_a_score_before_extra_roll_is_taken ... FAILED  
#### test if_the_last_frame_is_a_spare_you_get_one_extra_roll_that_is_scored_once ... FAILED  
#### test last_two_strikes_followed_by_only_last_bonus_with_non_strike_points ... FAILED  
#### test points_scored_in_the_roll_after_a_spare_are_counted_twice_as_a_bonus ... FAILED  
#### test second_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins_even_if_first_is_strike ... FAILED  
#### test spare_in_the_first_frame_followed_by_zeros ... FAILED  
#### test strikes_with_the_two_roll_bonus_do_not_get_a_bonus_roll ... FAILED  
#### test roll_returns_a_result ... ok  
#### test ten_frames_without_a_strike_or_spare ... FAILED  
#### test the_two_balls_after_a_final_strike_can_be_a_strike_and_non_strike ... FAILED  
#### test points_scored_in_the_two_rolls_after_a_strike_are_counted_twice_as_a_bonus ... FAILED  
#### test if_the_last_frame_is_a_strike_you_cannot_score_before_the_extra_rolls_are_taken ... FAILED  
#### test you_cannot_roll_more_than_ten_pins_in_a_single_roll ... ok  
#### test you_cannot_score_a_game_with_no_rolls ... ok  
#### test the_two_balls_after_a_final_strike_cannot_score_an_invalid_number_of_pins ... FAILED  
#### test twenty_zero_pin_rolls_scores_zero ... FAILED  
#### test the_two_balls_after_a_final_strike_cannot_be_a_non_strike_followed_by_a_strike ... FAILED  
#### test you_cannot_roll_more_than_ten_pins_in_a_single_frame ... ok  
####   
#### failures:  
####   
#### ---- a_game_score_is_some_if_ten_frames_have_been_rolled stdout ----  
#### thread 'a_game_score_is_some_if_ten_frames_have_been_rolled' panicked at tests/bowling.rs:27:5:  
#### assertion failed: game.score().is_some()  
#### note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace  
####   
#### ---- a_strike_earns_ten_points_in_a_frame_with_a_single_roll stdout ----  
#### thread 'a_strike_earns_ten_points_in_a_frame_with_a_single_roll' panicked at tests/bowling.rs:165:5:  
#### assertion `left == right` failed  
####   left: None  
####  right: Some(10)  
####   
#### ---- a_strike_in_the_last_frame_earns_a_two_roll_bonus_that_is_counted_once stdout ----  
#### thread 'a_strike_in_the_last_frame_earns_a_two_roll_bonus_that_is_counted_once' panicked at tests/bowling.rs:215:5:  
#### assertion `left == right` failed  
####   left: None  
####  right: Some(18)  
####   
#### ---- a_strike_with_the_one_roll_bonus_after_a_spare_in_the_last_frame_does_not_get_a_bonus stdout ----  
#### thread 'a_strike_with_the_one_roll_bonus_after_a_spare_in_the_last_frame_does_not_get_a_bonus' panicked at tests/bowling.rs:263:5:  
#### assertion `left == right` failed  
####   left: None  
####  right: Some(20)  
####   
#### ---- a_spare_with_the_two_roll_bonus_does_not_get_a_bonus_roll stdout ----  
#### thread 'a_spare_with_the_two_roll_bonus_does_not_get_a_bonus_roll' panicked at tests/bowling.rs:231:5:  
#### assertion `left == right` failed  
####   left: None  
####  right: Some(20)  
####   
#### ---- all_strikes_is_a_perfect_score_of_300 stdout ----  
#### thread 'all_strikes_is_a_perfect_score_of_300' panicked at src/lib.rs:62:38:  
#### index out of bounds: the len is 19 but the index is 19  
####   
#### ---- cannot_roll_after_bonus_roll_for_spare stdout ----  
#### thread 'cannot_roll_after_bonus_roll_for_spare' panicked at tests/bowling.rs:414:5:  
#### assertion failed: game.roll(2).is_ok()  
####   
#### ---- cannot_roll_after_bonus_roll_for_strike stdout ----  
#### thread 'cannot_roll_after_bonus_roll_for_strike' panicked at tests/bowling.rs:430:5:  
#### assertion failed: game.roll(2).is_ok()  
####   
#### ---- consecutive_spares_each_get_a_one_roll_bonus stdout ----  
#### thread 'consecutive_spares_each_get_a_one_roll_bonus' panicked at tests/bowling.rs:135:5:  
#### assertion `left == right` failed  
####   left: None  
####  right: Some(31)  
####   
#### ---- consecutive_strikes_each_get_the_two_roll_bonus stdout ----  
#### thread 'consecutive_strikes_each_get_the_two_roll_bonus' panicked at tests/bowling.rs:199:5:  
#### assertion `left == right` failed  
####   left: None  
####  right: Some(81)  
####   
#### ---- first_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins stdout ----  
#### thread 'first_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins' panicked at tests/bowling.rs:298:5:  
#### assertion `left == right` failed  
####   left: Err(GameComplete)  
####  right: Err(NotEnoughPinsLeft)  
####   
#### ---- if_the_last_frame_is_a_spare_you_cannot_create_a_score_before_extra_roll_is_taken stdout ----  
#### thread 'if_the_last_frame_is_a_spare_you_cannot_create_a_score_before_extra_roll_is_taken' panicked at tests/bowling.rs:400:5:  
#### assertion failed: game.score().is_some()  
####   
#### ---- if_the_last_frame_is_a_spare_you_get_one_extra_roll_that_is_scored_once stdout ----  
#### thread 'if_the_last_frame_is_a_spare_you_get_one_extra_roll_that_is_scored_once' panicked at tests/bowling.rs:151:5:  
#### assertion `left == right` failed  
####   left: None  
####  right: Some(17)  
####   
#### ---- last_two_strikes_followed_by_only_last_bonus_with_non_strike_points stdout ----  
#### thread 'last_two_strikes_followed_by_only_last_bonus_with_non_strike_points' panicked at src/lib.rs:65:40:  
#### index out of bounds: the len is 19 but the index is 19  
####   
#### ---- points_scored_in_the_roll_after_a_spare_are_counted_twice_as_a_bonus stdout ----  
#### thread 'points_scored_in_the_roll_after_a_spare_are_counted_twice_as_a_bonus' panicked at tests/bowling.rs:117:5:  
#### assertion `left == right` failed  
####   left: None  
####  right: Some(16)  
####   
#### ---- second_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins_even_if_first_is_strike stdout ----  
#### thread 'second_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins_even_if_first_is_strike' panicked at tests/bowling.rs:358:5:  
#### assertion failed: game.roll(10).is_ok()  
####   
#### ---- spare_in_the_first_frame_followed_by_zeros stdout ----  
#### thread 'spare_in_the_first_frame_followed_by_zeros' panicked at tests/bowling.rs:101:5:  
#### assertion `left == right` failed  
####   left: None  
####  right: Some(10)  
####   
#### ---- strikes_with_the_two_roll_bonus_do_not_get_a_bonus_roll stdout ----  
#### thread 'strikes_with_the_two_roll_bonus_do_not_get_a_bonus_roll' panicked at tests/bowling.rs:247:5:  
#### assertion `left == right` failed  
####   left: None  
####  right: Some(30)  
####   
#### ---- ten_frames_without_a_strike_or_spare stdout ----  
#### thread 'ten_frames_without_a_strike_or_spare' panicked at tests/bowling.rs:86:5:  
#### assertion `left == right` failed  
####   left: None  
####  right: Some(90)  
####   
#### ---- the_two_balls_after_a_final_strike_can_be_a_strike_and_non_strike stdout ----  
#### thread 'the_two_balls_after_a_final_strike_can_be_a_strike_and_non_strike' panicked at tests/bowling.rs:327:5:  
#### assertion failed: game.roll(10).is_ok()  
####   
#### ---- points_scored_in_the_two_rolls_after_a_strike_are_counted_twice_as_a_bonus stdout ----  
#### thread 'points_scored_in_the_two_rolls_after_a_strike_are_counted_twice_as_a_bonus' panicked at tests/bowling.rs:181:5:  
#### assertion `left == right` failed  
####   left: None  
####  right: Some(26)  
####   
#### ---- if_the_last_frame_is_a_strike_you_cannot_score_before_the_extra_rolls_are_taken stdout ----  
#### thread 'if_the_last_frame_is_a_strike_you_cannot_score_before_the_extra_rolls_are_taken' panicked at tests/bowling.rs:381:5:  
#### assertion failed: game.score().is_some()  
####   
#### ---- the_two_balls_after_a_final_strike_cannot_score_an_invalid_number_of_pins stdout ----  
#### thread 'the_two_balls_after_a_final_strike_cannot_score_an_invalid_number_of_pins' panicked at tests/bowling.rs:312:5:  
#### assertion failed: game.roll(5).is_ok()  
####   
#### ---- twenty_zero_pin_rolls_scores_zero stdout ----  
#### thread 'twenty_zero_pin_rolls_scores_zero' panicked at tests/bowling.rs:73:5:  
#### assertion `left == right` failed  
####   left: None  
####  right: Some(0)  
####   
#### ---- the_two_balls_after_a_final_strike_cannot_be_a_non_strike_followed_by_a_strike stdout ----  
#### thread 'the_two_balls_after_a_final_strike_cannot_be_a_non_strike_followed_by_a_strike' panicked at tests/bowling.rs:342:5:  
#### assertion failed: game.roll(6).is_ok()  
####   
####   
#### failures:  
####     a_game_score_is_some_if_ten_frames_have_been_rolled  
####     a_spare_with_the_two_roll_bonus_does_not_get_a_bonus_roll  
####     a_strike_earns_ten_points_in_a_frame_with_a_single_roll  
####     a_strike_in_the_last_frame_earns_a_two_roll_bonus_that_is_counted_once  
####     a_strike_with_the_one_roll_bonus_after_a_spare_in_the_last_frame_does_not_get_a_bonus  
####     all_strikes_is_a_perfect_score_of_300  
####     cannot_roll_after_bonus_roll_for_spare  
####     cannot_roll_after_bonus_roll_for_strike  
####     consecutive_spares_each_get_a_one_roll_bonus  
####     consecutive_strikes_each_get_the_two_roll_bonus  
####     first_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins  
####     if_the_last_frame_is_a_spare_you_cannot_create_a_score_before_extra_roll_is_taken  
####     if_the_last_frame_is_a_spare_you_get_one_extra_roll_that_is_scored_once  
####     if_the_last_frame_is_a_strike_you_cannot_score_before_the_extra_rolls_are_taken  
####     last_two_strikes_followed_by_only_last_bonus_with_non_strike_points  
####     points_scored_in_the_roll_after_a_spare_are_counted_twice_as_a_bonus  
####     points_scored_in_the_two_rolls_after_a_strike_are_counted_twice_as_a_bonus  
####     second_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins_even_if_first_is_strike  
####     spare_in_the_first_frame_followed_by_zeros  
####     strikes_with_the_two_roll_bonus_do_not_get_a_bonus_roll  
####     ten_frames_without_a_strike_or_spare  
####     the_two_balls_after_a_final_strike_can_be_a_strike_and_non_strike  
####     the_two_balls_after_a_final_strike_cannot_be_a_non_strike_followed_by_a_strike  
####     the_two_balls_after_a_final_strike_cannot_score_an_invalid_number_of_pins  
####     twenty_zero_pin_rolls_scores_zero  
####   
#### test result: FAILED. 6 passed; 25 failed; 0 ignored; 0 measured; 0 filtered out; finished   
####   
#### error: test failed, to rerun pass `--test bowling`  
#### ####  
####   
#### See the testing errors above.  
#### The tests are correct, don't try and change them.  
#### Fix the code in lib.rs to resolve the errors.  

Let's fix the key issues. Here are the necessary changes:

lib.rs
```rust
<<<<<<< SEARCH
            let frame_sum = self.rolls.iter()
                .skip((self.current_frame - 1) as usize * 2)
                .take(2)
                .sum::<u16>();
            
            if self.current_roll == 1 {
                if pins == 10 { // Strike
                    self.rolls.push(pins);
                    self.rolls.push(0); // Add dummy roll to simplify scoring
                    self.current_frame += 1;
                    return Ok(());
                }
                self.current_roll = 2;
=======
            let frame_start = (self.current_frame - 1) as usize * 2;
            let frame_sum: u16 = self.rolls.iter().skip(frame_start).take(2).sum();
            
            if self.current_roll == 1 {
                if pins == 10 { // Strike
                    self.rolls.push(pins);
                    self.current_frame += 1;
                    return Ok(());
                }
                self.current_roll = 2;
                self.rolls.push(pins);
>>>>>>> REPLACE
```

lib.rs
```rust
<<<<<<< SEARCH
        self.rolls.push(pins);
        
        // Check if game should be complete
        if self.current_frame == 10 {
            let tenth_frame_rolls = &self.rolls[self.rolls.len().saturating_sub(3)..];
            match tenth_frame_rolls {
                [10, a, b] if *a + *b < 10 => self.game_complete = true, // Strike but no fill needed
                [a, b, _] if a + b < 10 => self.game_complete = true,    // No spare/strike in 10th
                _ if self.rolls.len() >= 21 => self.game_complete = true, // Max 21 rolls (all strikes)
                _ => {}
            }
        }
=======
        // Update game completion status
        if self.current_frame > 10 {
            self.game_complete = true;
        } else if self.current_frame == 10 {
            let frame_start = (self.current_frame - 1) as usize * 2;
            let frame_rolls = &self.rolls[frame_start..];
            
            match frame_rolls {
                // Strike followed by 2 bonus rolls
                [10, a, b] if frame_rolls.len() >= 3 => self.game_complete = true,
                // Spare followed by 1 bonus roll
                [a, b, c] if a + b == 10 => self.game_complete = true,
                // Open frame
                [a, b] if a + b < 10 => self.game_complete = true,
                _ => {}
            }
        }
>>>>>>> REPLACE
```

lib.rs
```rust
<<<<<<< SEARCH
                roll_index += if frame == 10 { 1 } else { 2 }; // Skip dummy roll except 10th frame
=======
                roll_index += 1; // Strike only consumes 1 roll
>>>>>>> REPLACE
```

lib.rs
```rust
<<<<<<< SEARCH
            // Handle 10th frame special case
            if frame == 10 {
                // Add any remaining rolls in 10th frame
                score += self.rolls[roll_index..].iter().sum::<u16>();
            }
=======
            // Handle 10th frame special case - no bonus points
            if frame == 10 {
                let frame_start = (frame - 1) as usize * 2;
                score += self.rolls[frame_start..].iter().take(3).sum::<u16>();
            }
>>>>>>> REPLACE
```

Key fixes:
1. Removed dummy rolls that were causing frame tracking errors
2. Fixed 10th frame completion detection
3. Corrected strike handling in score calculation
4. Proper 10th frame scoring without bonus points
5. Improved frame roll validation

These changes should resolve most test failures by:
- Properly tracking frame completion state
- Correctly calculating strike/spare bonuses
- Handling 10th frame special cases according to specs
- Validating rolls more accurately

> Tokens: 8.6k sent, 2.0k received.  
> Applied edit to lib.rs  
```
   Compiling bowling v1.2.0 (bowling)
warning: unused variable: `a`
  --> src/lib.rs:82:22
   |
82 |                 [10, a, b] if frame_rolls.len() >= 3 => self.game_complete = true,
   |                      ^ help: if this is intentional, prefix it with an underscore: `_a`
   |
   = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `b`
  --> src/lib.rs:82:25
   |
82 |                 [10, a, b] if frame_rolls.len() >= 3 => self.game_complete = true,
   |                         ^ help: if this is intentional, prefix it with an underscore: `_b`

warning: unused variable: `c`
  --> src/lib.rs:84:24
   |
84 |                 [a, b, c] if a + b == 10 => self.game_complete = true,
   |                        ^ help: if this is intentional, prefix it with an underscore: `_c`

warning: `bowling` (lib) generated 3 warnings (3 duplicates)
warning: `bowling` (lib test) generated 3 warnings
    Finished `test` profile [unoptimized + debuginfo] target(s) 
     Running unittests src/lib.rs (target/debug/deps/bowling-b253db4d91a38fa2)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished 

     Running tests/bowling.rs (target/debug/deps/bowling-8c92748030a71673)

running 31 tests
test a_game_score_is_none_if_fewer_than_ten_frames_have_been_rolled ... FAILED
test a_spare_with_the_two_roll_bonus_does_not_get_a_bonus_roll ... FAILED
test a_strike_in_the_last_frame_earns_a_two_roll_bonus_that_is_counted_once ... FAILED
test consecutive_strikes_each_get_the_two_roll_bonus ... FAILED
test a_strike_with_the_one_roll_bonus_after_a_spare_in_the_last_frame_does_not_get_a_bonus ... FAILED
test a_roll_is_err_if_the_game_is_done ... FAILED
test a_game_score_is_some_if_ten_frames_have_been_rolled ... FAILED
test cannot_roll_after_bonus_roll_for_strike ... FAILED
test cannot_roll_after_bonus_roll_for_spare ... FAILED
test a_strike_earns_ten_points_in_a_frame_with_a_single_roll ... FAILED
test all_strikes_is_a_perfect_score_of_300 ... FAILED
test if_the_last_frame_is_a_spare_you_cannot_create_a_score_before_extra_roll_is_taken ... FAILED
test consecutive_spares_each_get_a_one_roll_bonus ... FAILED
test first_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins ... FAILED
test if_the_last_frame_is_a_spare_you_get_one_extra_roll_that_is_scored_once ... FAILED
test spare_in_the_first_frame_followed_by_zeros ... FAILED
test points_scored_in_the_roll_after_a_spare_are_counted_twice_as_a_bonus ... FAILED
test last_two_strikes_followed_by_only_last_bonus_with_non_strike_points ... FAILED
test the_two_balls_after_a_final_strike_cannot_be_a_non_strike_followed_by_a_strike ... FAILED
test if_the_last_frame_is_a_strike_you_cannot_score_before_the_extra_rolls_are_taken ... FAILED
test the_two_balls_after_a_final_strike_can_be_a_strike_and_non_strike ... FAILED
test the_two_balls_after_a_final_strike_cannot_score_an_invalid_number_of_pins ... FAILED
test points_scored_in_the_two_rolls_after_a_strike_are_counted_twice_as_a_bonus ... FAILED
test twenty_zero_pin_rolls_scores_zero ... FAILED
test roll_returns_a_result ... ok
test second_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins_even_if_first_is_strike ... FAILED
test strikes_with_the_two_roll_bonus_do_not_get_a_bonus_roll ... FAILED
test you_cannot_score_a_game_with_no_rolls ... ok
test you_cannot_roll_more_than_ten_pins_in_a_single_frame ... ok
test ten_frames_without_a_strike_or_spare ... FAILED
test you_cannot_roll_more_than_ten_pins_in_a_single_roll ... ok

failures:

---- a_game_score_is_none_if_fewer_than_ten_frames_have_been_rolled stdout ----
thread 'a_game_score_is_none_if_fewer_than_ten_frames_have_been_rolled' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- a_spare_with_the_two_roll_bonus_does_not_get_a_bonus_roll stdout ----
thread 'a_spare_with_the_two_roll_bonus_does_not_get_a_bonus_roll' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- a_strike_in_the_last_frame_earns_a_two_roll_bonus_that_is_counted_once stdout ----
thread 'a_strike_in_the_last_frame_earns_a_two_roll_bonus_that_is_counted_once' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- consecutive_strikes_each_get_the_two_roll_bonus stdout ----
thread 'consecutive_strikes_each_get_the_two_roll_bonus' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- a_strike_with_the_one_roll_bonus_after_a_spare_in_the_last_frame_does_not_get_a_bonus stdout ----
thread 'a_strike_with_the_one_roll_bonus_after_a_spare_in_the_last_frame_does_not_get_a_bonus' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- a_roll_is_err_if_the_game_is_done stdout ----
thread 'a_roll_is_err_if_the_game_is_done' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- a_game_score_is_some_if_ten_frames_have_been_rolled stdout ----
thread 'a_game_score_is_some_if_ten_frames_have_been_rolled' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- cannot_roll_after_bonus_roll_for_strike stdout ----
thread 'cannot_roll_after_bonus_roll_for_strike' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- cannot_roll_after_bonus_roll_for_spare stdout ----
thread 'cannot_roll_after_bonus_roll_for_spare' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- a_strike_earns_ten_points_in_a_frame_with_a_single_roll stdout ----
thread 'a_strike_earns_ten_points_in_a_frame_with_a_single_roll' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- all_strikes_is_a_perfect_score_of_300 stdout ----
thread 'all_strikes_is_a_perfect_score_of_300' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- if_the_last_frame_is_a_spare_you_cannot_create_a_score_before_extra_roll_is_taken stdout ----
thread 'if_the_last_frame_is_a_spare_you_cannot_create_a_score_before_extra_roll_is_taken' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- consecutive_spares_each_get_a_one_roll_bonus stdout ----
thread 'consecutive_spares_each_get_a_one_roll_bonus' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- first_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins stdout ----
thread 'first_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- if_the_last_frame_is_a_spare_you_get_one_extra_roll_that_is_scored_once stdout ----
thread 'if_the_last_frame_is_a_spare_you_get_one_extra_roll_that_is_scored_once' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- spare_in_the_first_frame_followed_by_zeros stdout ----
thread 'spare_in_the_first_frame_followed_by_zeros' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- points_scored_in_the_roll_after_a_spare_are_counted_twice_as_a_bonus stdout ----
thread 'points_scored_in_the_roll_after_a_spare_are_counted_twice_as_a_bonus' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- last_two_strikes_followed_by_only_last_bonus_with_non_strike_points stdout ----
thread 'last_two_strikes_followed_by_only_last_bonus_with_non_strike_points' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- the_two_balls_after_a_final_strike_cannot_be_a_non_strike_followed_by_a_strike stdout ----
thread 'the_two_balls_after_a_final_strike_cannot_be_a_non_strike_followed_by_a_strike' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- if_the_last_frame_is_a_strike_you_cannot_score_before_the_extra_rolls_are_taken stdout ----
thread 'if_the_last_frame_is_a_strike_you_cannot_score_before_the_extra_rolls_are_taken' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- the_two_balls_after_a_final_strike_can_be_a_strike_and_non_strike stdout ----
thread 'the_two_balls_after_a_final_strike_can_be_a_strike_and_non_strike' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- the_two_balls_after_a_final_strike_cannot_score_an_invalid_number_of_pins stdout ----
thread 'the_two_balls_after_a_final_strike_cannot_score_an_invalid_number_of_pins' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- points_scored_in_the_two_rolls_after_a_strike_are_counted_twice_as_a_bonus stdout ----
thread 'points_scored_in_the_two_rolls_after_a_strike_are_counted_twice_as_a_bonus' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- twenty_zero_pin_rolls_scores_zero stdout ----
thread 'twenty_zero_pin_rolls_scores_zero' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- second_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins_even_if_first_is_strike stdout ----
thread 'second_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins_even_if_first_is_strike' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- strikes_with_the_two_roll_bonus_do_not_get_a_bonus_roll stdout ----
thread 'strikes_with_the_two_roll_bonus_do_not_get_a_bonus_roll' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9

---- ten_frames_without_a_strike_or_spare stdout ----
thread 'ten_frames_without_a_strike_or_spare' panicked at src/lib.rs:78:42:
range start index 18 out of range for slice of length 9


failures:
    a_game_score_is_none_if_fewer_than_ten_frames_have_been_rolled
    a_game_score_is_some_if_ten_frames_have_been_rolled
    a_roll_is_err_if_the_game_is_done
    a_spare_with_the_two_roll_bonus_does_not_get_a_bonus_roll
    a_strike_earns_ten_points_in_a_frame_with_a_single_roll
    a_strike_in_the_last_frame_earns_a_two_roll_bonus_that_is_counted_once
    a_strike_with_the_one_roll_bonus_after_a_spare_in_the_last_frame_does_not_get_a_bonus
    all_strikes_is_a_perfect_score_of_300
    cannot_roll_after_bonus_roll_for_spare
    cannot_roll_after_bonus_roll_for_strike
    consecutive_spares_each_get_a_one_roll_bonus
    consecutive_strikes_each_get_the_two_roll_bonus
    first_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins
    if_the_last_frame_is_a_spare_you_cannot_create_a_score_before_extra_roll_is_taken
    if_the_last_frame_is_a_spare_you_get_one_extra_roll_that_is_scored_once
    if_the_last_frame_is_a_strike_you_cannot_score_before_the_extra_rolls_are_taken
    last_two_strikes_followed_by_only_last_bonus_with_non_strike_points
    points_scored_in_the_roll_after_a_spare_are_counted_twice_as_a_bonus
    points_scored_in_the_two_rolls_after_a_strike_are_counted_twice_as_a_bonus
    second_bonus_ball_after_a_final_strike_cannot_score_an_invalid_number_of_pins_even_if_first_is_strike
    spare_in_the_first_frame_followed_by_zeros
    strikes_with_the_two_roll_bonus_do_not_get_a_bonus_roll
    ten_frames_without_a_strike_or_spare
    the_two_balls_after_a_final_strike_can_be_a_strike_and_non_strike
    the_two_balls_after_a_final_strike_cannot_be_a_non_strike_followed_by_a_strike
    the_two_balls_after_a_final_strike_cannot_score_an_invalid_number_of_pins
    twenty_zero_pin_rolls_scores_zero

test result: FAILED. 4 passed; 27 failed; 0 ignored; 0 measured; 0 filtered out; finished 

error: test failed, to rerun pass `--test bowling`

```