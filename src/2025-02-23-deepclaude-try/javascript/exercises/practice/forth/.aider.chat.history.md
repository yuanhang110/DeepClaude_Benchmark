
# aider chat started at 2025-02-22 18:58:48

> Aider v0.74.3.dev29+g5402ed11.d20250220  
> Model: openai/deepseek-r1-250120 with diff edit format  
> Git repo: none  
> Repo-map: disabled  
> Added forth.js to the chat.  

#### # Instructions  
####   
#### Implement an evaluator for a very simple subset of Forth.  
####   
#### [Forth][forth]  
#### is a stack-based programming language.  
#### Implement a very basic evaluator for a small subset of Forth.  
####   
#### Your evaluator has to support the following words:  
####   
#### - `+`, `-`, `*`, `/` (integer arithmetic)  
#### - `DUP`, `DROP`, `SWAP`, `OVER` (stack manipulation)  
####   
#### Your evaluator also has to support defining new words using the customary syntax: `: word-name definition ;`.  
####   
#### To keep things simple the only data type you need to support is signed integers of at least 16 bits size.  
####   
#### You should use the following rules for the syntax: a number is a sequence of one or more (ASCII) digits, a word is a sequence of one or more letters, digits, symbols or punctuation that is not a number.  
#### (Forth probably uses slightly different rules, but this is close enough.)  
####   
#### Words are case-insensitive.  
####   
#### [forth]: https://en.wikipedia.org/wiki/Forth_%28programming_language%29  
####   
#### ####  
####   
#### Use the above instructions to modify the supplied files: forth.js  
#### Don't change the names of existing functions or classes, as they may be referenced from other code like unit tests, etc.  
#### Only use standard libraries, don't suggest installing any packages.  

Based on the analysis, I'll help implement the Forth evaluator with the necessary changes to handle arithmetic operations, stack manipulations, and custom word definitions. Here are the required changes:

forth.js
```javascript
<<<<<<< SEARCH
  constructor() {
    throw Error('Remove this statement and implement this function');
  }
=======
  constructor() {
    this.stack = [];
    this.customWords = {};
  }
>>>>>>> REPLACE
```

forth.js
```javascript
<<<<<<< SEARCH
  evaluate() {
    throw Error('Remove this statement and implement this function');
  }
=======
  evaluate(input) {
    const tokens = input.toUpperCase().split(/\s+/).filter(t => t !== '');
    let i = 0;
    while (i < tokens.length) {
      const token = tokens[i];
      if (token === ':') {
        i++;
        if (i >= tokens.length) {
          throw new Error('Invalid word definition');
        }
        const wordName = tokens[i];
        if (/^\d+$/.test(wordName)) {
          throw new Error('Invalid word name');
        }
        i++;
        const definition = [];
        while (i < tokens.length && tokens[i] !== ';') {
          definition.push(tokens[i]);
          i++;
        }
        if (i >= tokens.length) {
          throw new Error('Unclosed word definition');
        }
        i++;
        this.customWords[wordName.toUpperCase()] = definition;
      } else {
        this.processToken(token);
        i++;
      }
    }
  }

  processToken(token) {
    if (/^-?\d+$/.test(token)) {
      this.stack.push(parseInt(token, 10));
    } else if (this.customWords[token]) {
      this.evaluate(this.customWords[token].join(' '));
    } else {
      this.executeBuiltIn(token);
    }
  }

  executeBuiltIn(token) {
    switch (token) {
      case '+':
        this.ensureStackSize(2);
        this.stack.push(this.stack.pop() + this.stack.pop());
        break;
      case '-':
        this.ensureStackSize(2);
        const sub = this.stack.pop();
        this.stack.push(this.stack.pop() - sub);
        break;
      case '*':
        this.ensureStackSize(2);
        this.stack.push(this.stack.pop() * this.stack.pop());
        break;
      case '/':
        this.ensureStackSize(2);
        const divisor = this.stack.pop();
        if (divisor === 0) {
          throw new Error('Division by zero');
        }
        this.stack.push(Math.trunc(this.stack.pop() / divisor));
        break;
      case 'DUP':
        this.ensureStackSize(1);
        const dup = this.stack.pop();
        this.stack.push(dup, dup);
        break;
      case 'DROP':
        this.ensureStackSize(1);
        this.stack.pop();
        break;
      case 'SWAP':
        this.ensureStackSize(2);
        const a = this.stack.pop();
        const b = this.stack.pop();
        this.stack.push(a, b);
        break;
      case 'OVER':
        this.ensureStackSize(2);
        this.stack.push(this.stack[this.stack.length - 2]);
        break;
      default:
        throw new Error(`Unknown command: ${token}`);
    }
  }

  ensureStackSize(n) {
    if (this.stack.length < n) {
      throw new Error('Stack underflow');
    }
  }
>>>>>>> REPLACE
```

forth.js
```javascript
<<<<<<< SEARCH
  get stack() {
    throw Error('Remove this statement and implement this function');
  }
=======
  get stack() {
    return [...this.stack];
  }
>>>>>>> REPLACE
```

These changes implement:
1. Stack and custom words initialization in constructor
2. Evaluation of input with support for:
   - Integer arithmetic (+, -, *, /)
   - Stack manipulation (DUP, DROP, SWAP, OVER)
   - Custom word definitions (: word-name definition ;)
   - Case-insensitive processing
3. Stack getter that returns a copy to prevent external modifications
4. Error handling for:
   - Stack underflow
   - Division by zero
   - Invalid word definitions
   - Unknown commands

The implementation ensures custom words can override built-in commands by checking for custom words before built-in commands in processToken.

> Tokens: 10k sent, 900 received.  
> Applied edit to forth.js  
```

> test
> jest ./*

FAIL ./forth.spec.js
  Forth
    parsing and numbers
      ✕ numbers just get pushed onto the stack (1 ms)
      ✕ pushes negative numbers onto the stack
    addition
      ✕ can add two numbers
      ✕ errors if there is nothing on the stack
      ✕ errors if there is only one value on the stack
    subtraction
      ✕ can subtract two numbers
      ✕ errors if there is nothing on the stack (2 ms)
      ✕ errors if there is only one value on the stack
    multiplication
      ✕ can multiply two numbers
      ✕ errors if there is nothing on the stack
      ✕ errors if there is only one value on the stack
    division
      ✕ can divide two numbers
      ✕ performs integer division
      ✕ errors if dividing by zero
      ✕ errors if there is nothing on the stack
      ✕ errors if there is only one value on the stack
    combined arithmetic
      ✕ addition and subtraction
      ✕ multiplication and division
    dup
      ✕ copies a value on the stack
      ✕ copies the top value on the stack
      ✕ errors if there is nothing on the stack
    drop
      ✕ removes the top value on the stack if it is the only one
      ✕ removes the top value on the stack if it is not the only one
      ✕ errors if there is nothing on the stack
    swap
      ✕ swaps the top two values on the stack if they are the only ones
      ✕ swaps the top two values on the stack if they are not the only ones
      ✕ errors if there is nothing on the stack
      ✕ errors if there is only one value on the stack
    over
      ✕ copies the second element if there are only two
      ✕ copies the second element if there are more than two
      ✕ errors if there is nothing on the stack
      ✕ errors if there is only one value on the stack
    user-defined words
      ✕ can consist of built-in words
      ✕ execute in the right order
      ✕ can override other user-defined words
      ✕ can override built-in words
      ✕ can override built-in operators
      ✕ can use different words with the same name
      ✕ can define word that uses word with the same name (1 ms)
      ✕ cannot redefine numbers
      ✕ cannot redefine negative numbers
      ✕ errors if executing a non-existent word
      ✕ only defines locally
    case-insensitivity
      ✕ DUP is case-insensitive
      ✕ DROP is case-insensitive
      ✕ SWAP is case-insensitive
      ✕ OVER is case-insensitive (1 ms)
      ✕ user-defined words are case-insensitive
      ✕ definitions are case-insensitive

  ● Forth › parsing and numbers › numbers just get pushed onto the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › parsing and numbers › pushes negative numbers onto the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › addition › can add two numbers

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › addition › errors if there is nothing on the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › addition › errors if there is only one value on the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › subtraction › can subtract two numbers

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › subtraction › errors if there is nothing on the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › subtraction › errors if there is only one value on the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › multiplication › can multiply two numbers

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › multiplication › errors if there is nothing on the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › multiplication › errors if there is only one value on the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › division › can divide two numbers

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › division › performs integer division

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › division › errors if dividing by zero

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › division › errors if there is nothing on the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › division › errors if there is only one value on the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › combined arithmetic › addition and subtraction

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › combined arithmetic › multiplication and division

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › dup › copies a value on the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › dup › copies the top value on the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › dup › errors if there is nothing on the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › drop › removes the top value on the stack if it is the only one

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › drop › removes the top value on the stack if it is not the only one

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › drop › errors if there is nothing on the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › swap › swaps the top two values on the stack if they are the only ones

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › swap › swaps the top two values on the stack if they are not the only ones

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › swap › errors if there is nothing on the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › swap › errors if there is only one value on the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › over › copies the second element if there are only two

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › over › copies the second element if there are more than two

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › over › errors if there is nothing on the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › over › errors if there is only one value on the stack

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › user-defined words › can consist of built-in words

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › user-defined words › execute in the right order

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › user-defined words › can override other user-defined words

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › user-defined words › can override built-in words

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › user-defined words › can override built-in operators

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › user-defined words › can use different words with the same name

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › user-defined words › can define word that uses word with the same name

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › user-defined words › cannot redefine numbers

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › user-defined words › cannot redefine negative numbers

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › user-defined words › errors if executing a non-existent word

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › user-defined words › only defines locally

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › case-insensitivity › DUP is case-insensitive

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › case-insensitivity › DROP is case-insensitive

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › case-insensitivity › SWAP is case-insensitive

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › case-insensitivity › OVER is case-insensitive

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › case-insensitivity › user-defined words are case-insensitive

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

  ● Forth › case-insensitivity › definitions are case-insensitive

    TypeError: Cannot set property stack of #<Forth> which has only a getter

       6 | export class Forth {
       7 |   constructor() {
    >  8 |     this.stack = [];
         |               ^
       9 |     this.customWords = {};
      10 |   }
      11 |

      at new Forth (forth.js:8:15)
      at Object.<anonymous> (forth.spec.js:7:13)

Test Suites: 1 failed, 1 total
Tests:       49 failed, 49 total
Snapshots:   0 total
Time:        0.29 s
Ran all test suites matching /.\/LICENSE|.\/babel.config.js|.\/forth.js|.\/forth.spec.js|.\/node_modules|.\/package-lock.json|.\/package.json/i.

```
####   
#### > test  
#### > jest ./*  
####   
#### FAIL ./forth.spec.js  
####   Forth  
####     parsing and numbers  
####       ✕ numbers just get pushed onto the stack (1 ms)  
####       ✕ pushes negative numbers onto the stack  
####     addition  
####       ✕ can add two numbers  
####       ✕ errors if there is nothing on the stack  
####       ✕ errors if there is only one value on the stack  
####     subtraction  
####       ✕ can subtract two numbers  
####       ✕ errors if there is nothing on the stack (2 ms)  
####       ✕ errors if there is only one value on the stack  
####     multiplication  
####       ✕ can multiply two numbers  
####       ✕ errors if there is nothing on the stack  
####       ✕ errors if there is only one value on the stack  
####     division  
####       ✕ can divide two numbers  
####       ✕ performs integer division  
####       ✕ errors if dividing by zero  
####       ✕ errors if there is nothing on the stack  
####       ✕ errors if there is only one value on the stack  
####     combined arithmetic  
####       ✕ addition and subtraction  
####       ✕ multiplication and division  
####     dup  
####       ✕ copies a value on the stack  
####       ✕ copies the top value on the stack  
####       ✕ errors if there is nothing on the stack  
####     drop  
####       ✕ removes the top value on the stack if it is the only one  
####       ✕ removes the top value on the stack if it is not the only one  
####       ✕ errors if there is nothing on the stack  
####     swap  
####       ✕ swaps the top two values on the stack if they are the only ones  
####       ✕ swaps the top two values on the stack if they are not the only ones  
####       ✕ errors if there is nothing on the stack  
####       ✕ errors if there is only one value on the stack  
####     over  
####       ✕ copies the second element if there are only two  
####       ✕ copies the second element if there are more than two  
####       ✕ errors if there is nothing on the stack  
####       ✕ errors if there is only one value on the stack  
####     user-defined words  
####       ✕ can consist of built-in words  
####       ✕ execute in the right order  
####       ✕ can override other user-defined words  
####       ✕ can override built-in words  
####       ✕ can override built-in operators  
####       ✕ can use different words with the same name  
####       ✕ can define word that uses word with the same name (1 ms)  
####       ✕ cannot redefine numbers  
####       ✕ cannot redefine negative numbers  
####       ✕ errors if executing a non-existent word  
####       ✕ only defines locally  
####     case-insensitivity  
####       ✕ DUP is case-insensitive  
####       ✕ DROP is case-insensitive  
####       ✕ SWAP is case-insensitive  
####       ✕ OVER is case-insensitive (1 ms)  
####       ✕ user-defined words are case-insensitive  
####       ✕ definitions are case-insensitive  
####   
####   ● Forth › parsing and numbers › numbers just get pushed onto the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › parsing and numbers › pushes negative numbers onto the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › addition › can add two numbers  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › addition › errors if there is nothing on the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › addition › errors if there is only one value on the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › subtraction › can subtract two numbers  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › subtraction › errors if there is nothing on the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › subtraction › errors if there is only one value on the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › multiplication › can multiply two numbers  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › multiplication › errors if there is nothing on the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › multiplication › errors if there is only one value on the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › division › can divide two numbers  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › division › performs integer division  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › division › errors if dividing by zero  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › division › errors if there is nothing on the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › division › errors if there is only one value on the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › combined arithmetic › addition and subtraction  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › combined arithmetic › multiplication and division  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › dup › copies a value on the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › dup › copies the top value on the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › dup › errors if there is nothing on the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › drop › removes the top value on the stack if it is the only one  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › drop › removes the top value on the stack if it is not the only one  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › drop › errors if there is nothing on the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › swap › swaps the top two values on the stack if they are the only ones  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › swap › swaps the top two values on the stack if they are not the only ones  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › swap › errors if there is nothing on the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › swap › errors if there is only one value on the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › over › copies the second element if there are only two  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › over › copies the second element if there are more than two  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › over › errors if there is nothing on the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › over › errors if there is only one value on the stack  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › user-defined words › can consist of built-in words  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › user-defined words › execute in the right order  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › user-defined words › can override other user-defined words  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › user-defined words › can override built-in words  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › user-defined words › can override built-in operators  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › user-defined words › can use different words with the same name  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › user-defined words › can define word that uses word with the same name  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › user-defined words › cannot redefine numbers  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › user-defined words › cannot redefine negative numbers  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › user-defined words › errors if executing a non-existent word  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › user-defined words › only defines locally  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › case-insensitivity › DUP is case-insensitive  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › case-insensitivity › DROP is case-insensitive  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › case-insensitivity › SWAP is case-insensitive  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › case-insensitivity › OVER is case-insensitive  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › case-insensitivity › user-defined words are case-insensitive  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
####   ● Forth › case-insensitivity › definitions are case-insensitive  
####   
####     TypeError: Cannot set property stack of #<Forth> which has only a getter  
####   
####        6 | export class Forth {  
####        7 |   constructor() {  
####     >  8 |     this.stack = [];  
####          |               ^  
####        9 |     this.customWords = {};  
####       10 |   }  
####       11 |  
####   
####       at new Forth (forth.js:8:15)  
####       at Object.<anonymous> (forth.spec.js:7:13)  
####   
#### Test Suites: 1 failed, 1 total  
#### Tests:       49 failed, 49 total  
#### Snapshots:   0 total  
#### Time:        0.29 s  
#### Ran all test suites matching /.\/LICENSE|.\/babel.config.js|.\/forth.js|.\/forth.spec.js|.\/node_modules|.\/package-lock.json|.\/package.json/i.  
#### ####  
####   
#### See the testing errors above.  
#### The tests are correct, don't try and change them.  
#### Fix the code in forth.js to resolve the errors.  

The error occurs because we have a getter for 'stack' but no setter, making it read-only, yet we're trying to modify it directly. Let's fix this by using an internal `_stack` property while keeping the getter as is.

Here are the necessary changes:

forth.js
```javascript
<<<<<<< SEARCH
  constructor() {
    this.stack = [];
    this.customWords = {};
  }
=======
  constructor() {
    this._stack = [];
    this.customWords = {};
  }
>>>>>>> REPLACE
```

forth.js
```javascript
<<<<<<< SEARCH
        this.stack.push(parseInt(token, 10));
=======
        this._stack.push(parseInt(token, 10));
>>>>>>> REPLACE
```

forth.js
```javascript
<<<<<<< SEARCH
        this.stack.push(this.stack.pop() + this.stack.pop());
=======
        this._stack.push(this._stack.pop() + this._stack.pop());
>>>>>>> REPLACE
```

forth.js
```javascript
<<<<<<< SEARCH
        const sub = this.stack.pop();
        this.stack.push(this.stack.pop() - sub);
=======
        const sub = this._stack.pop();
        this._stack.push(this._stack.pop() - sub);
>>>>>>> REPLACE
```

forth.js
```javascript
<<<<<<< SEARCH
        this.stack.push(this.stack.pop() * this.stack.pop());
=======
        this._stack.push(this._stack.pop() * this._stack.pop());
>>>>>>> REPLACE
```

forth.js
```javascript
<<<<<<< SEARCH
        const divisor = this.stack.pop();
        if (divisor === 0) {
          throw new Error('Division by zero');
        }
        this.stack.push(Math.trunc(this.stack.pop() / divisor));
=======
        const divisor = this._stack.pop();
        if (divisor === 0) {
          throw new Error('Division by zero');
        }
        this._stack.push(Math.trunc(this._stack.pop() / divisor));
>>>>>>> REPLACE
```

forth.js
```javascript
<<<<<<< SEARCH
        const dup = this.stack.pop();
        this.stack.push(dup, dup);
=======
        const dup = this._stack.pop();
        this._stack.push(dup, dup);
>>>>>>> REPLACE
```

forth.js
```javascript
<<<<<<< SEARCH
        this.stack.pop();
=======
        this._stack.pop();
>>>>>>> REPLACE
```

forth.js
```javascript
<<<<<<< SEARCH
        const a = this.stack.pop();
        const b = this.stack.pop();
        this.stack.push(a, b);
=======
        const a = this._stack.pop();
        const b = this._stack.pop();
        this._stack.push(a, b);
>>>>>>> REPLACE
```

forth.js
```javascript
<<<<<<< SEARCH
        this.stack.push(this.stack[this.stack.length - 2]);
=======
        this._stack.push(this._stack[this._stack.length - 2]);
>>>>>>> REPLACE
```

forth.js
```javascript
<<<<<<< SEARCH
    if (this.stack.length < n) {
=======
    if (this._stack.length < n) {
>>>>>>> REPLACE
```

forth.js
```javascript
<<<<<<< SEARCH
    return [...this.stack];
=======
    return [...this._stack];
>>>>>>> REPLACE
```

These changes:
1. Rename the internal stack property to `_stack`
2. Update all references to use `_stack` instead of `stack`
3. Keep the getter returning a copy of the internal stack

This should resolve the TypeError while maintaining the same functionality.

> Tokens: 9.3k sent, 706 received.  
> Applied edit to forth.js  
```

> test
> jest ./*

FAIL ./forth.spec.js
  Forth
    parsing and numbers
      ✓ numbers just get pushed onto the stack (1 ms)
      ✓ pushes negative numbers onto the stack
    addition
      ✓ can add two numbers (1 ms)
      ✕ errors if there is nothing on the stack (15 ms)
      ✕ errors if there is only one value on the stack (1 ms)
    subtraction
      ✓ can subtract two numbers
      ✕ errors if there is nothing on the stack
      ✕ errors if there is only one value on the stack
    multiplication
      ✓ can multiply two numbers
      ✕ errors if there is nothing on the stack (1 ms)
      ✕ errors if there is only one value on the stack (1 ms)
    division
      ✓ can divide two numbers
      ✓ performs integer division
      ✓ errors if dividing by zero
      ✕ errors if there is nothing on the stack (1 ms)
      ✕ errors if there is only one value on the stack (1 ms)
    combined arithmetic
      ✓ addition and subtraction
      ✓ multiplication and division (1 ms)
    dup
      ✓ copies a value on the stack
      ✓ copies the top value on the stack
      ✕ errors if there is nothing on the stack
    drop
      ✓ removes the top value on the stack if it is the only one
      ✓ removes the top value on the stack if it is not the only one
      ✕ errors if there is nothing on the stack (1 ms)
    swap
      ✓ swaps the top two values on the stack if they are the only ones
      ✓ swaps the top two values on the stack if they are not the only ones
      ✕ errors if there is nothing on the stack (1 ms)
      ✕ errors if there is only one value on the stack (1 ms)
    over
      ✓ copies the second element if there are only two
      ✓ copies the second element if there are more than two
      ✕ errors if there is nothing on the stack (1 ms)
      ✕ errors if there is only one value on the stack (1 ms)
    user-defined words
      ✓ can consist of built-in words
      ✓ execute in the right order (1 ms)
      ✓ can override other user-defined words
      ✓ can override built-in words
      ✓ can override built-in operators (1 ms)
      ✕ can use different words with the same name (1 ms)
      ✕ can define word that uses word with the same name (3 ms)
      ✕ cannot redefine numbers (1 ms)
      ✕ cannot redefine negative numbers
      ✕ errors if executing a non-existent word (1 ms)
      ✓ only defines locally
    case-insensitivity
      ✓ DUP is case-insensitive
      ✓ DROP is case-insensitive
      ✓ SWAP is case-insensitive
      ✓ OVER is case-insensitive
      ✓ user-defined words are case-insensitive
      ✓ definitions are case-insensitive

  ● Forth › addition › errors if there is nothing on the stack

    expect(received).toThrow(expected)

    Expected message: "Stack empty"
    Received message: "Stack underflow"

          101 |   ensureStackSize(n) {
          102 |     if (this._stack.length < n) {
        > 103 |       throw new Error('Stack underflow');
              |             ^
          104 |     }
          105 |   }
          106 |

      at Forth.ensureStackSize (forth.js:103:13)
      at Forth.ensureStackSize [as executeBuiltIn] (forth.js:57:14)
      at Forth.executeBuiltIn [as processToken] (forth.js:50:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at evaluate (forth.spec.js:30:15)
      at Object.<anonymous> (../../../../../../npm-install/node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (../../../../../../npm-install/node_modules/expect/build/index.js:320:21)
      at Object.toThrow (forth.spec.js:31:10)
      at Object.toThrow (forth.spec.js:31:10)

  ● Forth › addition › errors if there is only one value on the stack

    expect(received).toThrow(expected)

    Expected message: "Stack empty"
    Received message: "Stack underflow"

          101 |   ensureStackSize(n) {
          102 |     if (this._stack.length < n) {
        > 103 |       throw new Error('Stack underflow');
              |             ^
          104 |     }
          105 |   }
          106 |

      at Forth.ensureStackSize (forth.js:103:13)
      at Forth.ensureStackSize [as executeBuiltIn] (forth.js:57:14)
      at Forth.executeBuiltIn [as processToken] (forth.js:50:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at evaluate (forth.spec.js:36:15)
      at Object.<anonymous> (../../../../../../npm-install/node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (../../../../../../npm-install/node_modules/expect/build/index.js:320:21)
      at Object.toThrow (forth.spec.js:37:10)
      at Object.toThrow (forth.spec.js:37:10)

  ● Forth › subtraction › errors if there is nothing on the stack

    expect(received).toThrow(expected)

    Expected message: "Stack empty"
    Received message: "Stack underflow"

          101 |   ensureStackSize(n) {
          102 |     if (this._stack.length < n) {
        > 103 |       throw new Error('Stack underflow');
              |             ^
          104 |     }
          105 |   }
          106 |

      at Forth.ensureStackSize (forth.js:103:13)
      at Forth.ensureStackSize [as executeBuiltIn] (forth.js:61:14)
      at Forth.executeBuiltIn [as processToken] (forth.js:50:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at evaluate (forth.spec.js:49:15)
      at Object.<anonymous> (../../../../../../npm-install/node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (../../../../../../npm-install/node_modules/expect/build/index.js:320:21)
      at Object.toThrow (forth.spec.js:50:10)
      at Object.toThrow (forth.spec.js:50:10)

  ● Forth › subtraction › errors if there is only one value on the stack

    expect(received).toThrow(expected)

    Expected message: "Stack empty"
    Received message: "Stack underflow"

          101 |   ensureStackSize(n) {
          102 |     if (this._stack.length < n) {
        > 103 |       throw new Error('Stack underflow');
              |             ^
          104 |     }
          105 |   }
          106 |

      at Forth.ensureStackSize (forth.js:103:13)
      at Forth.ensureStackSize [as executeBuiltIn] (forth.js:61:14)
      at Forth.executeBuiltIn [as processToken] (forth.js:50:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at evaluate (forth.spec.js:55:15)
      at Object.<anonymous> (../../../../../../npm-install/node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (../../../../../../npm-install/node_modules/expect/build/index.js:320:21)
      at Object.toThrow (forth.spec.js:56:10)
      at Object.toThrow (forth.spec.js:56:10)

  ● Forth › multiplication › errors if there is nothing on the stack

    expect(received).toThrow(expected)

    Expected message: "Stack empty"
    Received message: "Stack underflow"

          101 |   ensureStackSize(n) {
          102 |     if (this._stack.length < n) {
        > 103 |       throw new Error('Stack underflow');
              |             ^
          104 |     }
          105 |   }
          106 |

      at Forth.ensureStackSize (forth.js:103:13)
      at Forth.ensureStackSize [as executeBuiltIn] (forth.js:66:14)
      at Forth.executeBuiltIn [as processToken] (forth.js:50:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at evaluate (forth.spec.js:68:15)
      at Object.<anonymous> (../../../../../../npm-install/node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (../../../../../../npm-install/node_modules/expect/build/index.js:320:21)
      at Object.toThrow (forth.spec.js:69:10)
      at Object.toThrow (forth.spec.js:69:10)

  ● Forth › multiplication › errors if there is only one value on the stack

    expect(received).toThrow(expected)

    Expected message: "Stack empty"
    Received message: "Stack underflow"

          101 |   ensureStackSize(n) {
          102 |     if (this._stack.length < n) {
        > 103 |       throw new Error('Stack underflow');
              |             ^
          104 |     }
          105 |   }
          106 |

      at Forth.ensureStackSize (forth.js:103:13)
      at Forth.ensureStackSize [as executeBuiltIn] (forth.js:66:14)
      at Forth.executeBuiltIn [as processToken] (forth.js:50:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at evaluate (forth.spec.js:74:15)
      at Object.<anonymous> (../../../../../../npm-install/node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (../../../../../../npm-install/node_modules/expect/build/index.js:320:21)
      at Object.toThrow (forth.spec.js:75:10)
      at Object.toThrow (forth.spec.js:75:10)

  ● Forth › division › errors if there is nothing on the stack

    expect(received).toThrow(expected)

    Expected message: "Stack empty"
    Received message: "Stack underflow"

          101 |   ensureStackSize(n) {
          102 |     if (this._stack.length < n) {
        > 103 |       throw new Error('Stack underflow');
              |             ^
          104 |     }
          105 |   }
          106 |

      at Forth.ensureStackSize (forth.js:103:13)
      at Forth.ensureStackSize [as executeBuiltIn] (forth.js:70:14)
      at Forth.executeBuiltIn [as processToken] (forth.js:50:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at evaluate (forth.spec.js:98:15)
      at Object.<anonymous> (../../../../../../npm-install/node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (../../../../../../npm-install/node_modules/expect/build/index.js:320:21)
      at Object.toThrow (forth.spec.js:99:10)
      at Object.toThrow (forth.spec.js:99:10)

  ● Forth › division › errors if there is only one value on the stack

    expect(received).toThrow(expected)

    Expected message: "Stack empty"
    Received message: "Stack underflow"

          101 |   ensureStackSize(n) {
          102 |     if (this._stack.length < n) {
        > 103 |       throw new Error('Stack underflow');
              |             ^
          104 |     }
          105 |   }
          106 |

      at Forth.ensureStackSize (forth.js:103:13)
      at Forth.ensureStackSize [as executeBuiltIn] (forth.js:70:14)
      at Forth.executeBuiltIn [as processToken] (forth.js:50:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at evaluate (forth.spec.js:104:15)
      at Object.<anonymous> (../../../../../../npm-install/node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (../../../../../../npm-install/node_modules/expect/build/index.js:320:21)
      at Object.toThrow (forth.spec.js:105:10)
      at Object.toThrow (forth.spec.js:105:10)

  ● Forth › dup › errors if there is nothing on the stack

    expect(received).toThrow(expected)

    Expected message: "Stack empty"
    Received message: "Stack underflow"

          101 |   ensureStackSize(n) {
          102 |     if (this._stack.length < n) {
        > 103 |       throw new Error('Stack underflow');
              |             ^
          104 |     }
          105 |   }
          106 |

      at Forth.ensureStackSize (forth.js:103:13)
      at Forth.ensureStackSize [as executeBuiltIn] (forth.js:78:14)
      at Forth.executeBuiltIn [as processToken] (forth.js:50:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at evaluate (forth.spec.js:134:15)
      at Object.<anonymous> (../../../../../../npm-install/node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (../../../../../../npm-install/node_modules/expect/build/index.js:320:21)
      at Object.toThrow (forth.spec.js:135:10)
      at Object.toThrow (forth.spec.js:135:10)

  ● Forth › drop › errors if there is nothing on the stack

    expect(received).toThrow(expected)

    Expected message: "Stack empty"
    Received message: "Stack underflow"

          101 |   ensureStackSize(n) {
          102 |     if (this._stack.length < n) {
        > 103 |       throw new Error('Stack underflow');
              |             ^
          104 |     }
          105 |   }
          106 |

      at Forth.ensureStackSize (forth.js:103:13)
      at Forth.ensureStackSize [as executeBuiltIn] (forth.js:83:14)
      at Forth.executeBuiltIn [as processToken] (forth.js:50:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at evaluate (forth.spec.js:152:15)
      at Object.<anonymous> (../../../../../../npm-install/node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (../../../../../../npm-install/node_modules/expect/build/index.js:320:21)
      at Object.toThrow (forth.spec.js:153:10)
      at Object.toThrow (forth.spec.js:153:10)

  ● Forth › swap › errors if there is nothing on the stack

    expect(received).toThrow(expected)

    Expected message: "Stack empty"
    Received message: "Stack underflow"

          101 |   ensureStackSize(n) {
          102 |     if (this._stack.length < n) {
        > 103 |       throw new Error('Stack underflow');
              |             ^
          104 |     }
          105 |   }
          106 |

      at Forth.ensureStackSize (forth.js:103:13)
      at Forth.ensureStackSize [as executeBuiltIn] (forth.js:87:14)
      at Forth.executeBuiltIn [as processToken] (forth.js:50:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at evaluate (forth.spec.js:170:15)
      at Object.<anonymous> (../../../../../../npm-install/node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (../../../../../../npm-install/node_modules/expect/build/index.js:320:21)
      at Object.toThrow (forth.spec.js:171:10)
      at Object.toThrow (forth.spec.js:171:10)

  ● Forth › swap › errors if there is only one value on the stack

    expect(received).toThrow(expected)

    Expected message: "Stack empty"
    Received message: "Stack underflow"

          101 |   ensureStackSize(n) {
          102 |     if (this._stack.length < n) {
        > 103 |       throw new Error('Stack underflow');
              |             ^
          104 |     }
          105 |   }
          106 |

      at Forth.ensureStackSize (forth.js:103:13)
      at Forth.ensureStackSize [as executeBuiltIn] (forth.js:87:14)
      at Forth.executeBuiltIn [as processToken] (forth.js:50:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at evaluate (forth.spec.js:176:15)
      at Object.<anonymous> (../../../../../../npm-install/node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (../../../../../../npm-install/node_modules/expect/build/index.js:320:21)
      at Object.toThrow (forth.spec.js:177:10)
      at Object.toThrow (forth.spec.js:177:10)

  ● Forth › over › errors if there is nothing on the stack

    expect(received).toThrow(expected)

    Expected message: "Stack empty"
    Received message: "Stack underflow"

          101 |   ensureStackSize(n) {
          102 |     if (this._stack.length < n) {
        > 103 |       throw new Error('Stack underflow');
              |             ^
          104 |     }
          105 |   }
          106 |

      at Forth.ensureStackSize (forth.js:103:13)
      at Forth.ensureStackSize [as executeBuiltIn] (forth.js:93:14)
      at Forth.executeBuiltIn [as processToken] (forth.js:50:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at evaluate (forth.spec.js:194:15)
      at Object.<anonymous> (../../../../../../npm-install/node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (../../../../../../npm-install/node_modules/expect/build/index.js:320:21)
      at Object.toThrow (forth.spec.js:195:10)
      at Object.toThrow (forth.spec.js:195:10)

  ● Forth › over › errors if there is only one value on the stack

    expect(received).toThrow(expected)

    Expected message: "Stack empty"
    Received message: "Stack underflow"

          101 |   ensureStackSize(n) {
          102 |     if (this._stack.length < n) {
        > 103 |       throw new Error('Stack underflow');
              |             ^
          104 |     }
          105 |   }
          106 |

      at Forth.ensureStackSize (forth.js:103:13)
      at Forth.ensureStackSize [as executeBuiltIn] (forth.js:93:14)
      at Forth.executeBuiltIn [as processToken] (forth.js:50:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at evaluate (forth.spec.js:200:15)
      at Object.<anonymous> (../../../../../../npm-install/node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (../../../../../../npm-install/node_modules/expect/build/index.js:320:21)
      at Object.toThrow (forth.spec.js:201:10)
      at Object.toThrow (forth.spec.js:201:10)

  ● Forth › user-defined words › can use different words with the same name

    expect(received).toEqual(expected) // deep equality

    - Expected  - 1
    + Received  + 1

      Array [
    -   5,
    +   6,
        6,
      ]

      240 |       forth.evaluate(': foo 6 ;');
      241 |       forth.evaluate('bar foo');
    > 242 |       expect(forth.stack).toEqual([5, 6]);
          |                           ^
      243 |     });
      244 |
      245 |     test('can define word that uses word with the same name', () => {

      at Object.toEqual (forth.spec.js:242:27)

  ● Forth › user-defined words › can define word that uses word with the same name

    RangeError: Maximum call stack size exceeded
        at String.split (<anonymous>)

      11 |
      12 |   evaluate(input) {
    > 13 |     const tokens = input.toUpperCase().split(/\s+/).filter(t => t !== '');
         |                                        ^
      14 |     let i = 0;
      15 |     while (i < tokens.length) {
      16 |       const token = tokens[i];

      at Forth.split [as evaluate] (forth.js:13:40)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at Forth.evaluate [as processToken] (forth.js:48:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)

  ● Forth › user-defined words › cannot redefine numbers

    expect(received).toThrow(expected)

    Expected message: "Invalid definition"
    Received message: "Invalid word name"

          22 |         const wordName = tokens[i];
          23 |         if (/^\d+$/.test(wordName)) {
        > 24 |           throw new Error('Invalid word name');
             |                 ^
          25 |         }
          26 |         i++;
          27 |         const definition = [];

      at Forth.evaluate (forth.js:24:17)
      at evaluate (forth.spec.js:254:15)
      at Object.<anonymous> (../../../../../../npm-install/node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (../../../../../../npm-install/node_modules/expect/build/index.js:320:21)
      at Object.toThrow (forth.spec.js:255:10)
      at Object.toThrow (forth.spec.js:255:10)

  ● Forth › user-defined words › cannot redefine negative numbers

    expect(received).toThrow(expected)

    Expected message: "Invalid definition"

    Received function did not throw

      258 |       expect(() => {
      259 |         forth.evaluate(': -1 2 ;');
    > 260 |       }).toThrow(new Error('Invalid definition'));
          |          ^
      261 |     });
      262 |
      263 |     test('errors if executing a non-existent word', () => {

      at Object.toThrow (forth.spec.js:260:10)

  ● Forth › user-defined words › errors if executing a non-existent word

    expect(received).toThrow(expected)

    Expected message: "Unknown command"
    Received message: "Unknown command: FOO"

           95 |         break;
           96 |       default:
        >  97 |         throw new Error(`Unknown command: ${token}`);
              |               ^
           98 |     }
           99 |   }
          100 |

      at Forth.executeBuiltIn (forth.js:97:15)
      at Forth.executeBuiltIn [as processToken] (forth.js:50:12)
      at Forth.processToken [as evaluate] (forth.js:38:14)
      at evaluate (forth.spec.js:265:15)
      at Object.<anonymous> (../../../../../../npm-install/node_modules/expect/build/toThrowMatchers.js:74:11)
      at Object.throwingMatcher [as toThrow] (../../../../../../npm-install/node_modules/expect/build/index.js:320:21)
      at Object.toThrow (forth.spec.js:266:10)
      at Object.toThrow (forth.spec.js:266:10)

Test Suites: 1 failed, 1 total
Tests:       19 failed, 30 passed, 49 total
Snapshots:   0 total
Time:        0.276 s, estimated 1 s
Ran all test suites matching /.\/LICENSE|.\/babel.config.js|.\/forth.js|.\/forth.spec.js|.\/node_modules|.\/package-lock.json|.\/package.json/i.

```